@inherits LayoutComponentBase

<!-- Navbar trên cùng -->
<header class="top-navbar">
    <button class="btn btn-outline-primary toggle-btn" @onclick="ToggleSidebar">
        <i class="bi bi-list"></i> Menu
    </button>
    <div class="auth-section">
        @if (isLoggedIn)
        {
            <span class="nav-text me-3">Xin chào, @username</span>
            <button class="btn btn-outline-danger" @onclick="Logout">Đăng xuất</button>
        }
        else
        {
            <a class="btn btn-primary" href="/login">Đăng nhập</a>
        }
    </div>
</header>

<div class="layout-container">
    <!-- Sidebar -->
    <aside class="sidebar shadow p-3"
           style="@(isSidebarVisible ? "transform: translateX(0);" : "transform: translateX(-100%);")">
        <div class="logo-container">
            <img src="img/Rectangle89.png" alt="SmartSchool" class="logo" />
        </div>


        <nav class="nav flex-column">
            <a class="nav-link" href="/"><i class="bi bi-house-fill"></i> Trang chủ</a>
            <a class="nav-link" href="#"><i class="bi bi-person-badge-fill"></i> Danh sách giáo viên</a>
            <a class="nav-link" href="#"><i class="bi bi-people-fill"></i> Quản lý lớp học</a>
            <a class="nav-link" href="#"><i class="bi bi-journal-bookmark-fill"></i> Ngân hàng câu hỏi</a>
            <a class="nav-link" href="#"><i class="bi bi-file-earmark-text-fill"></i> Quản lý bài thi</a>
            <a class="nav-link" href="#"><i class="bi bi-calendar-check-fill"></i> Quản lý ca thi</a>
            <a class="nav-link" href="#"><i class="bi bi-exclamation-circle-fill"></i> Quản lý phúc khảo</a>
            <a class="nav-link" href="#"><i class="bi bi-bar-chart-fill"></i> Bảng điểm</a>
        </nav>
    </aside>
</div>

<style>
    /* Navbar trên cùng */
    .top-navbar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background-color: white;
        color: deepskyblue;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 20px;
        box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
        z-index: 1000;
    }

    /* Nút menu */
    .toggle-btn {
        color: deepskyblue;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        transition: background 0.3s ease;
    }

        .toggle-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

    /* Auth Section */
    .auth-section {
        display: flex;
        align-items: center;
    }

    /* Layout container */
    .layout-container {
        display: flex;
        height: calc(100vh - 60px);
        margin-top: 60px;
        overflow: hidden;
    }

    /* Sidebar */
    .sidebar {
        width: 280px;
        position: fixed;
        top: 60px;
        left: 0;
        height: calc(100vh - 60px);
        background-color: #6ea8fe;
        color: white;
        padding: 15px;
        transition: transform 0.3s ease-in-out;
    }

    /* Logo */
    .logo-container {
        display: flex;
        justify-content: center; /* Căn giữa theo chiều ngang */
        align-items: center; /* Căn giữa theo chiều dọc (nếu cần) */
        width: 100%;
        margin-bottom: 20px; /* Thêm khoảng cách dưới logo nếu cần */
    }

    .logo {
        width: 180px; /* Điều chỉnh kích thước */
        height: auto; /* Giữ nguyên tỷ lệ */
        border-radius: 150px; /* Bo góc nhẹ */
    }



    /* Navigation links */
    .nav-link {
        color: white;
        font-weight: 500;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 8px;
        transition: 0.3s;
        display: flex;
        align-items: center;
    }

        /* Hover effect */
        .nav-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

    /* Icons */
    .bi {
        margin-right: 10px;
        font-size: 1.2rem;
    }

    /* Content */
    .content {
        flex-grow: 1;
        padding: 20px;
        margin-left: 280px;
        transition: margin-left 0.3s ease-in-out;
    }

        /* Nếu sidebar ẩn, nội dung lấn vào */
        .content.sidebar-hidden {
            margin-left: 0;
        }
</style>

@code {
    private bool isLoggedIn = true;
    private string username = "Người dùng";
    private bool isSidebarVisible = true;

    private void ToggleSidebar()
    {
        isSidebarVisible = !isSidebarVisible;
    }

    private void Logout()
    {
        isLoggedIn = false;
        username = "";
    }
}
